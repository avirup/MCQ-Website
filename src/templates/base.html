<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>MCQ Platform</title>

  <!-- Responsive viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- MathJax for LaTeX -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- TailwindCSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            academic: {
              navy: "#23395d",
              maroon: "#8b1e3f",
              gold: "#c49a3a",
            },
          },
        },
      },
    }
  </script>

</head>
<body class="bg-gray-50 text-gray-900">
  <main class="max-w-6xl mx-auto p-4">
    <!-- ðŸ”” Toast container (global, fixed position) -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 flex flex-col gap-2"></div>
    {% block content %}{% endblock %}
  </main>
  <!-- ðŸ”” Toast function -->
  <script>
    function showToast(message, type = "info") {
      const container = document.getElementById("toast-container");

      // Create toast element
      const toast = document.createElement("div");
      toast.className = `px-4 py-2 rounded-lg shadow text-white text-sm transition
        ${type === "success" ? "bg-green-600" : ""}
        ${type === "error" ? "bg-red-600" : ""}
        ${type === "info" ? "bg-blue-600" : ""}
        ${type === "warn" ? "bg-yellow-600 text-black" : ""}`;
      toast.textContent = message;

      container.appendChild(toast);

      // Animate and remove after 3s
      setTimeout(() => {
        toast.style.opacity = "0";
        toast.style.transform = "translateX(100%)";
      }, 2500);
      setTimeout(() => toast.remove(), 3500);
    }
  </script>

  <!-- Inject Flask flash() messages as toasts -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        {% for category, message in messages %}
          showToast("{{ message|escape }}", "{{ category }}");
        {% endfor %}
      });
    </script>
    {% endif %}
  {% endwith %}

</body>
</html>
